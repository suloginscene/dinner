<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

    <div th:replace="layout/layout::head(${article.title},~{::link}, ~{})">
        <link rel="stylesheet" href="/css/page/board/article/view.css"/>
    </div>

    <body th:replace="layout/layout::body(~{::section})">
        <section th:object="${article}">

            <div class="info">
                <h2 id="topic"><a th:href="'/topics/'+*{topic.id}" th:text="*{topic.title}"></a></h2>
                <h1 id="title" th:text="*{title}"></h1>
                <div id="sub-info">
                    <span id="writer"><a th:href="'/@'+*{writer}" th:text="*{writer}"></a></span>
                    <span id="date" th:text="*{createdAt}"></span>
                </div>
            </div>

            <form th:unless="*{published}" th:action="@{'/articles/'+${article.id}}" method="post">
                <button type="submit">publish</button>
            </form>

            <article th:utext="*{content}"></article>

            <div>
                <ul th:each="reply:*{replies}">
                    <li>
                        <span><a th:href="@{'/@'+${reply.writer}}" th:text="${reply.writer}"></a></span>
                        <span th:text="${reply.content}"></span>
                        <span th:text="${reply.createdAt}"></span>
                    </li>
                </ul>
                <form th:action="@{/replies}" th:method="post">
                    <label>
                        <input type="text" name="articleId" th:value="*{id}" hidden>
                        <input type="text" name="content" placeholder="reply">
                    </label>
                    <button type="submit">write</button>
                </form>
            </div>

        </section>
    </body>

</html>
